PeerDiffX のUIは「企業が資料をアップロードして学生が添削・マージする」までの一連の流れを、だれでも迷わず操作できるように“11 画面”で構成します。各画面には PPTX 特有の差分管理や学生インセンティブ設計を支える専用機能を盛り込み、Git／LFS・生成AI・決済基盤とも滑らかに連携します。

---

## 1. SSOログイン／サインアップ

* **大学メールSSO**：学校ドメインで自動ロール判定（学生／企業／管理者）
* **2段階認証**：企業アカウントは必須、学生は任意
* **利用規約・NDA同意チェック**：初回のみ表示

## 2. ダッシュボード（ホーム）

* **プロジェクトカード**：進行中リポジトリのステータス・未読コメントをリアルタイム表示
* **AIハイライト**：最新レビュー要約を3-5 文でピン留め（生成AIサマリ）
* **通知センター**：ロック解除忘れ／支払いエラーなどをトースト＋履歴で確認

## 3. リポジトリ／プロジェクト一覧

* **検索・フィルタ**：タグ、企業名、作成日で絞り込み
* **ストレージメータ**：LFS使用量と残容量を可視化

## 4. スライド編集 & プレビュー

* **Canvasプレビュー**：react-konvaによる即時レンダリング（100 ms 以内）
* **WYSIWYGエディタ**：テキスト・図形・アニメ設定をツールバーで編集
* **ライブ共同編集カーソル**：共同編集者の位置を色分け表示

## 5. Diffビューア

* **サイドバイサイド／インライン切替**：react-diff-viewerベース
* **変更タイプフィルタ**：テキスト／レイアウト／図形追加などをトグル
* **コメントスレッド**：行単位でスレッド開始・Resolve

## 6. ブランチ & マージ画面

* **ブランチツリー**：GitHub 風のグラフ＋命名規則チェック
* **プルリクエストUI**：レビュー、ステータスチェック、マージボタン
* **保護ブランチ設定**：force-push 禁止・必須レビュー数など

## 7. LFSロック管理パネル

* **ロック一覧**：誰がどの PPTX をロック中か一覧表示
* **ワンクリック Lock/Unlock**：CLI を触らず UI 操作だけで可能
* **自動リマインド**：48 h ロック放置で Slack／メール通知

## 8. 学生フィードバックボード

* **ユニーク学生メーター**：プラン枠に対する残数を可視化
* **ランキング列**：ゴールド／シルバー／ブロンズのバッジ付与
* **報酬見積り**：自身の累計ポイントと予定ボーナスを表示

## 9. AI要約 & 分析ダッシュボード

* **全文要約パネル**：セクション別サマリ＋キーワード雲
* **感情分析ヒートマップ**：肯定／否定割合を色分け
* **改善提案リスト**：生成AIが優先度順にTODOを抽出

## 10. 管理 & 監査画面

* **アクセスログ**：プッシュ／マージ／ロック操作を時系列で表示
* **ブランチ保護ルール編集**：UI で条件を追加・変更
* **リポジトリ統計**：サイズ／LFS オブジェクト／API 呼び出し回数

## 11. サブスクリプション & 請求

* **プラン切替ウィザード**：学生枠・AIレポートオプションをスライダーで調整
* **決済ステータス**：失敗時の自動リトライとカード変更
* **利用レシートDL**：PDF 出力＋経理向け CSV

---

### 連携ポイントまとめ

| 連携先                 | 主なAPI呼出し箇所 | 目的                 |
| ------------------- | ---------- | ------------------ |
| GitHub / Gitea      | 4,5,6,10   | ブランチ・PR・監査ログ取得     |
| Git LFS             | 4,7        | 大容量PPTX管理＋ファイルロック  |
| Aspose.Slides Cloud | 4          | アニメーション・SmartArt生成 |
| OpenAI GPT-4 Turbo  | 2,9        | フィードバック要約・分析       |
| Stripe 等            | 11         | 月額課金・追加学生枠決済       |

---

この11画面構成により、**学生のレビュー→差分確認→マージ→AI要約→報酬支払い**までのワークフローを途切れず一本で繋ぎ、PeerDiffX を使う全ステークホルダーが迷わず操作できる体験を提供できます。
